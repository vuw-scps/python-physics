


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.4.0">
    
    
      
        <title>Molecular Speeds lab Python data analysis - single gas dataset processing - python-physics</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fe0cca5b.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#molecular-speeds-lab-python-data-analysis-single-gas-dataset-processing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="python-physics" class="md-header-nav__button md-logo" aria-label="python-physics">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            python-physics
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Molecular Speeds lab Python data analysis - single gas dataset processing
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="python-physics" class="md-nav__button md-logo" aria-label="python-physics">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    python-physics
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Phys114
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Phys114" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Phys114
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys114/HailStone/" title="HailStone" class="md-nav__link">
      HailStone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys114/Momentum/" title="Momentum" class="md-nav__link">
      Momentum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys114/NIIsolver/" title="NIIsolver" class="md-nav__link">
      NIIsolver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys114/SimplePlots/" title="SimplePlots" class="md-nav__link">
      SimplePlots
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Phys115
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Phys115" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Phys115
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys115/Inductor-Capacitor/" title="Inductor Capacitor" class="md-nav__link">
      Inductor Capacitor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys115/RLC/" title="RLC" class="md-nav__link">
      RLC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys115/Refraction/" title="Refraction" class="md-nav__link">
      Refraction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys115/Resistors/" title="Resistors" class="md-nav__link">
      Resistors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Phys221
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Phys221" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Phys221
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Multiplots/" title="Molecular Speeds lab Python data analysis - multiple gas dataset processing" class="md-nav__link">
      Molecular Speeds lab Python data analysis - multiple gas dataset processing
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Molecular Speeds lab Python data analysis - single gas dataset processing
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Molecular Speeds lab Python data analysis - single gas dataset processing" class="md-nav__link md-nav__link--active">
      Molecular Speeds lab Python data analysis - single gas dataset processing
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#making-use-of-folders" class="md-nav__link">
    Making use of folders
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up" class="md-nav__link">
    Setting up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-packages" class="md-nav__link">
    Importing packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-the-data-files" class="md-nav__link">
    Importing the data files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-arrays-and-vectors" class="md-nav__link">
    Using arrays and vectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plotting-the-data" class="md-nav__link">
    Plotting the data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-use-of-built-in-functions" class="md-nav__link">
    Making use of built in functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-use-of-loops" class="md-nav__link">
    Making use of loops
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-math-module" class="md-nav__link">
    Using the math module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fitting" class="md-nav__link">
    Fitting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-analysis" class="md-nav__link">
    Final analysis
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Phys304
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Phys304" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Phys304
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys304/Ylm/" title="Ylm" class="md-nav__link">
      Ylm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys304/Ylm_interactive/" title="Ylm interactive" class="md-nav__link">
      Ylm interactive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys304/relaxation/" title="Relaxation" class="md-nav__link">
      Relaxation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Phys415
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Phys415" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Phys415
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys415/fresnel/" title="Fresnel" class="md-nav__link">
      Fresnel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys415/multilayer/" title="Multilayer" class="md-nav__link">
      Multilayer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys415/poynting/" title="Poynting" class="md-nav__link">
      Poynting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Phys417
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Phys417" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Phys417
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys417/GIS/" title="GIS" class="md-nav__link">
      GIS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../phys417/collapse/" title="Collapse" class="md-nav__link">
      Collapse
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Plotting
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Plotting" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Plotting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../plotting/basic/" title="Basic" class="md-nav__link">
      Basic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#making-use-of-folders" class="md-nav__link">
    Making use of folders
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up" class="md-nav__link">
    Setting up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-packages" class="md-nav__link">
    Importing packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-the-data-files" class="md-nav__link">
    Importing the data files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-arrays-and-vectors" class="md-nav__link">
    Using arrays and vectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plotting-the-data" class="md-nav__link">
    Plotting the data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-use-of-built-in-functions" class="md-nav__link">
    Making use of built in functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-use-of-loops" class="md-nav__link">
    Making use of loops
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-math-module" class="md-nav__link">
    Using the math module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fitting" class="md-nav__link">
    Fitting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-analysis" class="md-nav__link">
    Final analysis
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="molecular-speeds-lab-python-data-analysis-single-gas-dataset-processing">Molecular Speeds lab Python data analysis - single gas dataset processing</h1>
<p>This Python workshop was originally developed by VUW Physics students William Holmes-Hewett and Campbell Matthews.  Thanks to both of them for their energy and enthusiam in making this resource.</p>
<h2 id="making-use-of-folders">Making use of folders</h2>
<p>Start a new Code in the folder that contains the file ‘Nitrogen 28.dat’</p>
<p>We have given you an example of the full code that you can download at the end here.  Remember that we can 'comment out' code by using a # so the program won't try to run it.  As you run through you may want to comment out some of the print commands that are in to check that the code was working along the way.</p>
<h2 id="setting-up">Setting up</h2>
<p>The first thing we want to do is define some constants that we will use later on.  These will be the volume of the bulb, the area of the opening and the pressure at which the effusion regime begins.</p>
<p>You were asked to calculate some of these in the pre-workshop exercise.  The pre-workshop exercise also serves as a reminder of the PHYS223 lab that this data analysis is based on.</p>
<p>So let’s write the first piece of the code and set up same values to use later on (note capital V we are using here).</p>
<pre><code class="python">V=2.03*10**-3
A=5.55113*10**-8
ef_begin=0.26
</code></pre>

<p>Let’s check that worked by printing one of the variables.  You can print them all if you like.</p>
<pre><code class="python">print(V)
</code></pre>

<pre><code>0.0020299999999999997
</code></pre>
<h2 id="importing-packages">Importing packages</h2>
<p>To start of with we need to call up the packages that help us handle our data. Packages are groups of functions that can be imported all at the same time for later use. The package we want is called ‘numpy’ so let’s import that now.</p>
<pre><code class="python">import numpy as np
</code></pre>

<p>Now we want to import a module to help with plotting.<br />
Note that some of this code here may be in a slightly different order to the example .py code that we have given in the folder on Blackboard. </p>
<p>Does that matter?</p>
<pre><code class="python">from matplotlib import pyplot as plt
</code></pre>

<h2 id="importing-the-data-files">Importing the data files</h2>
<p>We also want to load up the data that we have in our data file.  This could be a .txt file, a .csv or a .dat for example.  In this case we have a .dat file.  Later we will use a .csv.  </p>
<p>If you remember back to the experiment, the data is pressure as a function of time. </p>
<p>Now we want to use numpy to import our data, the command we are going to use is called ‘genfromtext’. We will import the data into a variable, called rawdata:</p>
<pre><code class="python">rawdata=np.genfromtxt(&quot;Nitrogen 28.dat&quot;, delimiter=&quot;cat&quot;)
</code></pre>

<p>Hold on...  What's this cat?</p>
<p>Note that the delimiter argument tells Python how the data is separated, just to prove a point I’ve replaced all the commas, which are normally used to separate data, with the word ‘cat’.</p>
<p>You can see this if you open the file in excel or something similar.</p>
<p>This seems silly, does it really help me learn?</p>
<p>Hopefully.  And think back to this when you move onto the multiple data example next.</p>
<p>Now let’s print the variable ‘rawdata’</p>
<pre><code class="python">print(rawdata)
</code></pre>

<pre><code>[[0.00000000e+00 3.91587981e+00]
 [1.00000000e+00 3.90860622e+00]
 [2.00000000e+00 3.89163795e+00]
 ...
 [2.28100000e+03 6.10025760e-02]
 [2.28200000e+03 6.10025760e-02]
 [2.28300000e+03 6.24196670e-02]]
</code></pre>
<p>This looks good and along the lines of what you expect.  </p>
<p>It really makes sense to throw in a few tests here and there to make sure that the code is doing what you expect.</p>
<h2 id="using-arrays-and-vectors">Using arrays and vectors</h2>
<p>Now we want to split this array up into two vectors, one for time and one for pressure, we can do that using the indexing we learned before.</p>
<p>Note, when I say before, I mean in the first year lab and/or the introduction material that is loaded on Blackboard.</p>
<pre><code class="python">time=rawdata[:,0]
pressure=rawdata[:,1]
</code></pre>

<p>This [ : ,0] means [ first_row:last_row , column_0 ]. 
If you have a 2-dimensional list/matrix/array, this notation will give you all the values in column 0 (from all rows).</p>
<p>We should probably test what's happening here, just to be sure...</p>
<pre><code class="python">print(time)
print(pressure)
</code></pre>

<pre><code>[0.000e+00 1.000e+00 2.000e+00 ... 2.281e+03 2.282e+03 2.283e+03]
[3.91587981 3.90860622 3.89163795 ... 0.06100258 0.06100258 0.06241967]
</code></pre>
<h2 id="plotting-the-data">Plotting the data</h2>
<p>It's quite tricky to see what's really going on here, so let's plot it to get a better idea.</p>
<pre><code class="python">plt.figure(1)

plt.plot(time,pressure)
plt.xlabel(&quot;time (s)&quot;)
plt.ylabel(&quot;Pressure (Pa)&quot;)
</code></pre>

<pre><code>Text(0, 0.5, 'Pressure (Pa)')
</code></pre>
<p><img alt="png" src="../../nb_img/phys221/Single_exp_34_1.png" /></p>
<p>Note that I am planning on having multiple figures so I have given this one a number.  This should help as we move along. I even remembered to label my axes and to put in units! </p>
<h2 id="making-use-of-built-in-functions">Making use of built in functions</h2>
<p>If you remember back to the experiment (and what we actually have to do to from the basis of our analysis here) we need to find the minimum pressure we reached. </p>
<p>To do this we will use an inbuilt python function ‘min’ and set the result as a new variable ‘baseP’.</p>
<pre><code class="python">baseP=min(rawdata[:,1])
</code></pre>

<pre><code class="python">print(baseP)
</code></pre>

<pre><code>0.061002576
</code></pre>
<p>Have a bit of a think about what that function is doing.  It is going from the first data point and last data point in our pressure column (here 1) and finding the minimum.  If you want to know more you can easily google this function and see how it operates.</p>
<p>We are now going to use a list comprehension to subtract the base pressure from each value in ‘Pressure’ as we will need to take the log of this later (everyone remembers the experiment and you all definitely read ahead to see where this is going...).  </p>
<p>We therefore want to avoid 0 values, and as baseP is in ‘Pressure’ it will return a zero, so we can just multiply it by 0.99 to avoid this.</p>
<pre><code class="python">P_minus_baseP=[i-0.99*baseP for i in pressure]
</code></pre>

<p>print(P_minus_baseP) - do this at your peril.  It gives a big list...</p>
<p>Now we have our pressure minus base pressure we need to find the point at which the effusion regime begins, to do this we are going to make a new vector of residuals. </p>
<p>We already know the pressure at which the effusion regime begins, we called it ‘ef_begin’, what we don't know is the INDEX of this value in the pressure vector. We are going to find this using residuals. </p>
<h2 id="making-use-of-loops">Making use of loops</h2>
<p>This vector ‘Res’ will be a vector where we take the value we are looking for ‘ef_begin’ from all values of the pressure vector the smallest value of this vector will have an index equal to that of when the effusion regime begins, in the vector ‘Pressure’.</p>
<pre><code class="python">res=[abs(i-ef_begin) for i in P_minus_baseP]
</code></pre>

<p>You should recognise the list comprehension in the line above.  This was in the reminder tutorial and is a neat way of writing a for loop.</p>
<p>We've made a new array as described above.  We now need to take the minimum value.</p>
<pre><code class="python">minres=min(res)
</code></pre>

<pre><code class="python">print(minres)
</code></pre>

<pre><code>0.00043142575999999266
</code></pre>
<p>I get 0.00043142575999999266, you should get something similar…. Or the same.</p>
<p>We now need to find the index of the minimum value, for this we will use a for loop, we want the loop to run for as many entries as we have in res so we can make it run for ‘len(res)’ we then want to use an if statement, so when ‘res[i]=minres’ we assign that ‘i’ to a variable, then stop.</p>
<p>Just take a moment and think that through.  </p>
<p>Can you write it yourself before you scroll down?</p>
<p>*
<em>
*
</em>
*
<em>
*
</em></p>
<pre><code class="python">for i in range (len(res)):
    if res[i]==minres:
        Peff_index=i
        break
</code></pre>

<pre><code class="python">print(Peff_index)
</code></pre>

<pre><code>691
</code></pre>
<p>Now we have the value of the index where the effusion regime begins we can move on.</p>
<h2 id="using-the-math-module">Using the math module</h2>
<p>The next step is to take the log of our data, to do this we need to import another module called ‘math’.  </p>
<p>Maybe we could have added that to the top with numpy and matplotlib, but here we are...</p>
<pre><code class="python">from math import log
import math
</code></pre>

<p>We are going to use another list comprehension to create a new vector with all the logged values</p>
<pre><code class="python">LogP=[log(i) for i in P_minus_baseP]
</code></pre>

<p>print(LogP) - if you want to check things.  I find it better to plot.  Especially as you have your own data from the PHYS223 lab that you can double check against.</p>
<pre><code class="python">plt.figure(2)
plt.plot(time,LogP)
plt.xlabel(&quot;time (s)&quot;)
plt.ylabel(&quot;log Pressure (Pa)&quot;)
</code></pre>

<pre><code>Text(0, 0.5, 'log Pressure (Pa)')
</code></pre>
<p><img alt="png" src="../../nb_img/phys221/Single_exp_62_1.png" /></p>
<p>We can also plot only the data after we reach the effusion regime, on the same figure, the ‘r’ makes it red.</p>
<pre><code class="python">plt.plot(time[Peff_index:],LogP[Peff_index:],&quot;r&quot;)
</code></pre>

<pre><code>[&lt;matplotlib.lines.Line2D at 0x7fb6a11b7fd0&gt;]
</code></pre>
<p><img alt="png" src="../../nb_img/phys221/Single_exp_64_1.png" /></p>
<p>Actually, in spyder that just plots ontop of the existing plot.  In the Jupyter workbook environment things happen a little differently.  </p>
<p>So, if you are in Sypder I expect you have something that looks like this:</p>
<pre><code class="python">plt.figure(2)
plt.plot(time,LogP)
plt.xlabel(&quot;time (s)&quot;)
plt.ylabel(&quot;log Pressure (Pa)&quot;)

plt.plot(time[Peff_index:],LogP[Peff_index:],&quot;r&quot;)

</code></pre>

<pre><code>[&lt;matplotlib.lines.Line2D at 0x7fb6c06a49d0&gt;]
</code></pre>
<p><img alt="png" src="../../nb_img/phys221/Single_exp_66_1.png" /></p>
<p>Here in the Jupyter environment I had to put them together in one code section.  So if anyone is using Jupyter you will have to do what I just did here.</p>
<h2 id="fitting">Fitting</h2>
<p>Now I want to fit a trend line to the section of the data in the effusion regime. To do this I'll use a fitting tool and create a new variable. </p>
<pre><code class="python">fit=np.polyfit(time[Peff_index:1400],LogP[Peff_index:1400],1)
</code></pre>

<p>It is worth having a bit of a think about what this polyfit is doing.  It is a numpy function.  polyfit(x,y, degree of polynomial).</p>
<p>What is 1400 representing?  Why is that the cut-off?  Maybe take a look at your own lab report.  But the plot here is helpful too I think.</p>
<p>Now is probably a good time for another print...</p>
<pre><code class="python">print(fit[0])
print(fit[1])
</code></pre>

<pre><code>-0.0032100701686121782
0.8597164594476661
</code></pre>
<p>We were fitting a straight line! The fit function returns two values, one is the gradient and one is the intercept, we can make these into their own variable.</p>
<pre><code class="python">m=fit[0]
c=fit[1]
</code></pre>

<p>Now we can plot this.</p>
<pre><code class="python">plt.plot(time[Peff_index:1400],time[Peff_index:1400]*m+c, &quot;k--&quot;)
</code></pre>

<pre><code>[&lt;matplotlib.lines.Line2D at 0x7fb6c07ff050&gt;]
</code></pre>
<p><img alt="png" src="../../nb_img/phys221/Single_exp_78_1.png" /></p>
<p>For me, I need to plot it ontop of the existing plots again. </p>
<pre><code class="python">plt.figure(2)
plt.plot(time,LogP)
plt.xlabel(&quot;time (s)&quot;)
plt.ylabel(&quot;log Pressure (Pa)&quot;)
plt.plot(time[Peff_index:],LogP[Peff_index:],&quot;r&quot;)
plt.plot(time[Peff_index:1400],time[Peff_index:1400]*m+c, &quot;k--&quot;)
</code></pre>

<pre><code>[&lt;matplotlib.lines.Line2D at 0x7fb6d0a1ce50&gt;]
</code></pre>
<p><img alt="png" src="../../nb_img/phys221/Single_exp_80_1.png" /></p>
<p>Hopefully you can see it all, and the small black dashes.  You can look up the plot instructions to see what k means.</p>
<h2 id="final-analysis">Final analysis</h2>
<p>We now can calculate the velocity of the nitrogen from the fit. 
Which remember, is the reason we’ve done all this work... and let's print it.</p>
<pre><code class="python">v=-4*V*m/A
print(v)
</code></pre>

<pre><code>469.5579056720142
</code></pre>
<p>Do you get the same?  Does it agree with your lab report?</p>
<p><em>Download this page <a href="https://github.com/vuw-scps/python-physics/raw/master/notebooks/phys221/Single_exp.ipynb">as a Jupyter notebook</a> or as a <a href="https://github.com/vuw-scps/python-physics/raw/master/scripts/phys221/Single_exp.py">standalone Python script</a>.</em></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../Multiplots/" title="Molecular Speeds lab Python data analysis - multiple gas dataset processing" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Molecular Speeds lab Python data analysis - multiple gas dataset processing
              </div>
            </div>
          </a>
        
        
          <a href="../../phys304/Ylm/" title="Ylm" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Ylm
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>